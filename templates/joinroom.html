{% extends 'base.html' %}

{% block title %}RoomHouse{% endblock %}

{% block header %}
    <h3 class="float-md-start mb-0">RoomHouse</h3>
    <nav class="nav nav-masthead justify-content-center float-md-end">
        <a class="nav-link active" aria-current="page" href="#">Join Room</a>
        <a class="nav-link" href="/about">About</a>
    </nav>
{% endblock %}


{% block content %}
    <div class="w-50 mx-auto flex-column">
        <h2>Join Room</h2>
        {% with messages = get_flashed_messages() %}
            {% if messages %}
                {% for message in messages %}
                    <h6>{{ message }}</h6>
                {% endfor %}
            {% endif %}
        {% endwith %}
        <form class="form-group justify-content-center" method="POST" action="">
            <input type="username" name="username" id="username" class="col form-control" placeholder="Display Name" style="margin: 20px auto 0px;width: 80%;align-items: center;font-size: 20px;">
            <input type="password" name="password" id="password" class="col form-control" placeholder="Password" style="margin: 0px auto 20px;width: 80%;align-items: center;font-size: 20px;">
            <div id="local">
                <div style="width: 100% !important;"></div>
                <div class="mt-auto text-white-50">
                    My lovely face
                </div>
            </div>
            <input class="w-50 btn btn-lg btn-primary border-dark" id="submit" name="submit" type="submit" value="Join" style="margin: 20px auto;width: 80%;text-align: center;align-items: center;">
        </form>
    </div>
{% endblock %}


{% block script %}
    <script src="//media.twiliocdn.com/sdk/js/video/releases/2.3.0/twilio-video.min.js"></script>
    <script src="{{ url_for('static', filename='app.js') }}"></script>
    <script>const button = document.getElementById('submit');button.addEventListener('click', connectButtonHandler);</script>
    <script>addLocalVideo();</script>
{% endblock %}
